1

สาระสำคัญของโครงการ คำสำคัญ(Key Words)
สาระสำคัญของโครงการ

โครงการนี้เปนระบบควบคุมอุปกรณไฟฟาภายในบานขนาดเล็กโดยผานแอปพลิเคชั่นซึ่ง
สามารถใชไดทั้ง 2 ระบบปฏิบัติการ Android และ iOS โดยครอบคลุมอุปกรณไฟฟา 3 รูปแบบ
ดังนี้ 1.อุปกรณที่สั่งดวยสัญญาณ Infrared 2.อุปกรณที่ตอกับ Switchไฟ 3. ผามาน โดยสามารถ
ใชเสียงในการควบคุมอุปกรณไฟฟาไดสำหรับระบบปฏิบัติการ iOS นอกจากนี้ยังสามารถจัดรวม
หลายๆคำสั่งใหอยูภายในคำสั่งเดียวไดดวย และยังชวยในเรื่องของความปลอดภัยโดยการปดอุปกรณ
ไฟฟาอัตโนมัติซึ่งเช็คจาก Bluetooth มือถือของผูใชงาน
คำสำคัญ(Key Words)
ควบคุมดวยเสียงผาน Siri, Mobile Application, Bluetooth, การสื่อสารไรสาย, Smart
Home

2

หลักการและเหตุผล

ในปจจุบันมนุษยมีการใชชีวิตประจำวันที่เรงรีบและมีการแขงขันสูง จึงตองหาเครื่องมือหรือ
เครื่องใชที่ทำใหเกิดความสะดวกสบายในการดำรงชีวิต มีความปลอดภัยและสามารถชวยลดคาใช
จายตางๆได ซึ่งทำใหมนุษยมีคุณภาพชีวิตที่ดีขึ้น เพื่อใหทันตอการใชชีวิต และยังใชเทคโนโลยีให
เกิดประโยชนอีกดวย เราจึงจัดทำระบบควบคุมเครื่องใชไฟฟาในบานผานแอปพลิเคชั่น
ระบบควบคุมเครื่องใชไฟฟาในบานเปนแอปพลิเคชั่น ที่สามารถควบคุมเครื่องใชไฟฟาภายใน
บานผานอินเทอรเน็ต รวมทั้งยังมีการตรวจสอบคนใชงานวามีคนอาศัยอยูภายในบานหรือเปลา ซึ่ง
เปนปจจัยหนึ่งของการประหยัดพลังงานและสามารถควบคุมไดทุกที่ ที่ผูใชตองการ โดยอาศัยระบบ
การสื่อสารไรสายเปนชองทางในการควบคุมผานแอปพลิเคชั่น

3

วัตถุประสงค
• เพื่อควบคุมเครื่องใชไฟฟา 3 รูปแบบ ไดแก 1.อุปกรณที่สั่งดวยสัญญาณ Infrared 2.อุปกรณ
ที่ตอกับปลั๊กไฟ 3. ผามาน โดยสั่งผาน Mobile Application ได
• เพื่อเพิ่มความปลอดภัยโดย จะปดเครื่องใชไฟฟาอัตโนมัติหากผูอาศัยไมอยูในบาน
• เพื่อความสะดวกสบายในการใชงาน โดยการรวมคำสั่งหลายๆคำสั่งใหอยูในชุดคำสั่งเดียว

4

ปญหาหรือประโยชนของการพัฒนาโปรแกรม
• เพื่ออำนวยความสะดวกในการใชเครื่องใชไฟฟา
• เพื่อลดปญหาการลืมปดอุปกรณไฟฟา
• เพื่อประหยัดคาใชจาย
• เพื่อเพิ่มความปลอดภัยใหมากขึ้น
• เพื่อลดเวลาในการใชงาน

5

เปาหมายและขอบเขตของโครงการ
• Application สามารถควบคุมอุปกรณไฟฟา แอร ทีวี ผามานกันแสง เครื่องใชไฟฟาที่ตอ
กับสวิตปดเปดไฟและสามารถเช็คอุณหหมิได
• ระบบปฏิบัติการ android สามารถควบคุมอุปกรณไฟฟาได
• ระบบปฏิบัติการ iOS สามารถควบคุมอุปกรณไฟฟาผานเสียงไดโดยใช Siri
• Application สามารถสั่งปดอุปกรณไฟฟาอัตโนมัติในกรณีไมมีคนอยู
• Application สามารถรวมหลายๆคำสั่งเปนคำสั่งเดียวได
• Application สามารถตั้งเงื่อนไขในการสั่งการอัตโนมัติได

6
6.1

รายละเอียดของการพัฒนา
แบบจำลอง

ภาพที่ 1: แบบจำลองโครงสรางของระบบ
จากภาพที่ 1 เปนแผนผังโครงสรางของระบบควบคุมเครื่องใชไฟฟาในบานผานแอปพลิ
เคชั่นซึ่งติดตอกับ Raspberry pi3 โดยผานอินเทอรเน็ต ซึ่ง Raspberry pi3 จะควบคุมเครื่องใช
ไฟฟาในบานผาน module ตางๆ
6.2

เทคนิคหรือเทคโนโลยีที่ใช

• Raspberry Pi

เปนเครื่องคอมพิวเตอรขนาดเล็กซึ่งทำงานไดเหมือนเครื่องคอมพิวเตอรทุกอยาง ซึ่งสามารถ
ตอเขากับจอคอมพิวเตอรหรือจอทีวีที่รองรับ HDMI ได โดยออกแบบมาเพื่อใชในการศึกษา โดย
มีระบบปฎิบัติการเปนลินุกซ (Linux)
• Web Service

คือระบบซอฟตแวรที่ออกแบบมา เพื่อสนับสนุนการแลกเปลี่ยนขอมูลกันใหงายมากขึ้น ระหวาง
เครื่องคอมพิวเตอรผานระบบเครือขาย บน Protocol HTTP หรือ HTTPS โดยจะรับสั่งขอมูลกัน
ในรูปแบบ JSON หรือ รูปแบบอื่นๆ

• Android

เปนระบบปฏิบัติการบนอุปกรณพกพาซึ่งเปนแบบ Open Source หรือก็คือระบบเปด
ที่ผูที่นำไปใช สามารถนำไปพัฒนาเพิ่มเติมเสริมแตงได
• iOS

เปนระบบปฏิบัติการบนอุปกรณพกพาซึ่ง พัฒนาและจำหนายโดยบริษัทแอปเปล ซึ่งใช
ในอุปกรณพกพาทที่เปนของบริษัทแอปเปล เทานั้น
• JSON

JSON(JavaScript Object Notation) หรือ เจสัน เปน format สำหรับแลกเปลี่ยน
ขอมูลคอมพิวเตอรอยูในรูปขอความธรรมดา ที่ทั้งมนุษยและโปรแกรมคอมพิวเตอรสามารถอาน
เขาใจได ซึ่งเปรียบเสมือน Array ซึ่งในการสงและรับ จะตองมีกระบวนการ Encode และ Decode เพื่อสงคาและอานคาตามลำดับ
• HomeKit

เปน framework หนึ่งของระบบปฏิบัติการ iOS ซึ่งใชเพื่อสื่อสารและควบคุมอุปกรณ
ซึ่งจะใช Protocol ที่เปนของ HomeKit ติดตอกัน โดยสามารถควบคุมอุปกรณโดยผาน Siri
• Bluetooth

คือ ระบบสื่อสารของอุปกรณอิเล็กโทรนิคแบบสองทาง ดวยคลื่นวิทยุระยะสั้น โดยปราศจาก
การใชสายสัญญาณเชื่อมตอซึ่งใชในการติดตอระหวางโทรศัพทมือถือกับอุปกรณ

• Infrared

เปนคลื่นแมเหล็กไฟฟาที่มีความยาวคลื่นอยูระหวางคลื่นวิทยุและแสงใชประโยชนในการ
ควบคุมเครื่องใชระบบไกล เชน remote
6.3

เครื่องมือที่ใชในการพัฒนา

ภาษาที่ใชเขียน

• ภาษา Python 3
• ภาษา Javascript (NodeJS)
• ภาษา Java
Tool

• Libraryตางๆของ Raspberry pi
• Android Studio
• HomeKit
• Raspberry Pi
• IR Transmitter
• IR Receiver
• Relay
• Motor
• Temperature Sensor
• Light Sensor

6.4

รายละเอียดโปแกรมที่จะพัฒนา

สวนของ Application

ระบบจะสั่งการโดยผานแอปพลิเคชั่นซึ่งมี 2 ระบบไดแก ระบบปฏิบัติ Android จะสั่ง
โดยผาน URL ของแตละคำสั่ง สวนระบบปฏิบัติการ iOS สั่งผานเฟรมเวิรค HomeKit ซึ่งสามารถ
สั่งการดวยเสียงโดยใช Siriได
สวนของ Server

Raspberry Pi จะทำหนาที่เปน Server ซึ่งเปน web service คอยรับ request ตางๆ
เขามาและประมวลผลคำสั่งแลวสั่งการ module ตางๆ โดยถาเปนระบบปฏิบัติการ Android
สงขอมูลแบบ JSON และจะทำการเช็คจาก URL ที่สงมาแลวสั่งการไปยัง Module ที่ตั้งคาไว
สวนของระบบปฏิบัติการ iOS จะทำการจำลองตัวเองให HomeKit สามารถเชื่อมตอได ซึ่ง HomeKit จะทำการประมวลคำสั่ง แลวสั่งการไปยัง Module ที่ตั้งคาไวเชนกันLIRC[2]
การทำงาน

เมื่อมีคำสั่งแอปพลิเคชั่นจะสง request ไปหา Raspberry Pi ที่ทำหนาที่เปน Web Service ซึ่งจะทำการประมวลผลคำสั่งที่สงมาแลวก็จะทำงานตามที่ตั้งคาไว ซึ่งแตละคำสั่งจะเชนเก็บ
คาไวใน database เชน ถาสั่งปดแอร Raspberry Pi ก็จะสงไปที่ IR transmitter ใหทำหนาที่สง
สัญญาณ Infraredไปที่แอร โดยใช LIRC[1] หรือ ถาตองการเช็คอุณหภูมิก็จะสงไปหา Temperature sensor เพื่อรับคาอุณหภูมิมาแสดงใน applicationนอกจากนี้ยังสามารถเช็ควาผูใชอยูใน
บานหรือไม ไดจากสัญญาณ Bluetooth[3] จากโทรศัพทอีกดวย โดยในแอปพลิเคชั่น สามารถ
ตั้งคาเปนชุดคำสั่งตางๆไดเอง เชน เวลาออกเสียงวา “โหมดดูหนัง” ใหเปดแอร, เปดทีวี พรอม
กับปดมานพรอมกันไดหรือ ตั้งเงื่อนไขวา ถาอุณหภูมิมากกวา 37 องศา ใหเปดแอร

6.5

ขอบเขตและขอจำกัดของโปรแกรมที่พัฒนา

• เปนเครื่องใชไฟฟาที่สามารถใช สัญญาณ infraredในการควบคุม หรือ เครื่องใชไฟฟาที่ตอ
กับปลั๊กไฟ หรือผามาน
• ตองมีอินเทอรเน็ตตลอดเวลา
• ใชในพื้นที่ที่ไมกวางมาก
• ตองใช IP Address ที่เปนเลขจริงเทานั้น

เอกสารและสิ่งอางอิง
[1] Alex Bain. Setting up lirc on the raspberrypi. http://alexba.in/blog/
2013/01/06/setting-up-lirc-on-the-raspberrypi/.
[2] planetleak. Raspberry pi 2 homekit. http://www.instructables.com/
id/Raspberry-Pi-2-Homekit-from-zero-to-Hey-Siri.
[3] Prb3333. Rasberry pi bluetooth in/out. http://www.instructables.
com/id/Raspberry-Pi-Bluetooth-InOut-Board-or-Whos-Hom.

